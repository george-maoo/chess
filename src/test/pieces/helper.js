// TODO refactor this
// validates the list of moves returned by Piece.validMoves
const validMoveValidator = (expectedValidMoves, validMoves) => {
  // the list of valid moves generated by Piece.validMoves
  const validMoves1 = validMoves.map((move) => JSON.stringify(move)).sort();

  // recreate a list of valid moves with user inputted 2d array
  const validMoves2 = [];

  for (let i = 0; i < 8; i++) {
    for (let j = 0; j < 8; j++) {
      if (expectedValidMoves[i][j] === 1) {
        validMoves2.push(`[${i},${j}]`);
      }
    }
  }

  // compare the user expected valid moves with the valid moves generated by Piece.validMoves
  return (
    JSON.stringify(validMoves1.sort()) === JSON.stringify(validMoves2.sort())
  );
};

module.exports = {
  validMoveValidator,
};
